window.Ephedrine={msgStatus:code=>{console.log(code),Ephedrine.processCode(code)},msgResult:result=>{console.log(result),Ephedrine.processResult(result)},request:(action,arg1,arg2,arg3,arg4,arg5)=>{window.chrome.webview.postMessage({Action:action,Arg1:arg1,Arg2:arg2,Arg3:arg3,Arg4:arg4,Arg5:arg5})},processCode:code=>{},processResult:result=>{},msgAsync:(action,arg1,arg2,arg3,arg4,arg5,forResult)=>new Promise(resolve=>{if(Ephedrine.request(action,arg1,arg2,arg3,arg4,arg5),forResult){let result1="Empty",code1=0;const triggerCheck=()=>{"Empty"!==result1&&0!==code1&&resolve({result:result1,code:code1})};Ephedrine.processResult=result=>{result1=result,triggerCheck()},Ephedrine.processCode=code=>{code1=code,triggerCheck()}}else Ephedrine.processCode=code=>{resolve(code)}}),Ready:!!window.chrome.webview,Actions:{StartService:async elevated=>{switch(await Ephedrine.msgAsync("StartService",elevated?"Admin":"User")){case-1:return{code:-1,success:!1,running:!1,msg:"Client Busy"};case 90:return{code:90,success:!1,running:!1,msg:"Fail"};case 91:return{code:91,success:!0,running:!0,msg:"Success"};case 93:return{code:93,success:!1,running:!0,msg:"Already Running"}}},Plugin:async(name,program,argument,forceUpdate,installOnly)=>{switch(await Ephedrine.msgAsync("Plugin",name,program,argument,forceUpdate?"ForceUpdate":"",installOnly?"InstallOnly":"")){case-1:return{code:-1,success:!1,msg:"Client Busy"};case 21:return{code:21,success:!0,msg:"Success"}}},List:async path=>{let result=await Ephedrine.msgAsync("List",path,null,null,null,null,!0);switch(result.code){case-1:return{code:-1,success:!1,result:"",msg:"Client Busy"};case 30:return{code:40,success:!1,result:"",msg:"List Failed"};case 31:return{code:41,success:!0,result:JSON.parse(atob(result.result)),msg:"Success"}}},Install:{zip:async(link,location)=>{switch(await Ephedrine.msgAsync("Install","zip",link,location)){case-1:return{code:-1,success:!1,msg:"Client Busy"};case 10:return{code:10,success:!1,msg:"Failed To Patch"};case 11:return{code:11,success:!0,msg:"Success"};case 13:return{code:13,success:!1,msg:"Permission Denied"}}},run:async(link,location,admin,argu)=>{switch(await Ephedrine.msgAsync("Install","run",link,location,admin?"Admin":"User",argu)){case-1:return{code:-1,success:!1,msg:"Client Busy"};case 16:return{code:16,success:!0,msg:"Success"};case 17:return{code:17,success:!1,msg:"No Permission"};case 18:return{code:18,success:!1,msg:"Run Failed"}}},save:async(link,name)=>{switch(await Ephedrine.msgAsync("Install","save",link,name)){case-1:return{code:-1,success:!1,msg:"Client Busy"};case 15:return{code:15,success:!0,msg:"Success With No Verification"}}}},Select:async folder=>{let result=await Ephedrine.msgAsync("Select",folder?"Folder":"File",null,null,null,null,!0);switch(result.code){case-1:return{code:-1,success:!1,result:"",msg:"Client Busy"};case 40:return{code:40,success:!1,result:"",msg:"Select Canceled"};case 41:return{code:41,success:!0,result:result.result,msg:"Success"}}},KillProcess:async name=>{switch(await Ephedrine.msgAsync("KillProcess",name.replace(".exe",""))){case-1:return{code:-1,success:!1,msg:"Client Busy"};case 70:return{code:70,success:!1,running:!1,msg:"Nothing Found"};case 71:return{code:71,success:!0,running:!1,msg:"Success"}}},Verify:async(method,file)=>{let result=await Ephedrine.msgAsync("Verify",method,file,null,null,null,!0);switch(result.code){case-1:return{code:-1,success:!1,result:"",msg:"Client Busy"};case 80:return{code:80,success:!1,result:"",msg:"No Such File"};case 81:return{code:81,success:!0,result:result.result,msg:"Success"};case 82:return{code:82,success:!1,result:"",msg:"Unsupport Method"}}},Run:async(program,argu,admin,intent)=>{switch(await Ephedrine.msgAsync("Run",program,argu,intent?"Intent":admin?"Admin":"User")){case-1:return{code:-1,success:!1,result:"",msg:"Client Busy"};case 60:return{code:60,success:!1,msg:"Run Failed"};case 61:return{code:61,success:!0,msg:"Success"}}},Delete:async file=>{switch(await Ephedrine.msgAsync("Delete",file)){case-1:return{code:-1,success:!1,result:"",msg:"Client Busy"};case 50:return{code:50,success:!1,found:!1,msg:"File Not Found"};case 51:return{code:51,success:!0,found:!0,msg:"Success"};case 52:return{code:52,success:!1,found:!0,msg:"Fail"}}},Exit:()=>{Ephedrine.msgAsync("Exit")}}};